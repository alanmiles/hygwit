# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://jashkenas.github.com/coffee-script/

$ ->
	$('#insurance_rate_effective').datepicker
		dateFormat: 'yy-mm-dd'
		
$ ->
  $('.icon-question-sign').removeClass('help-button')
   
$ ->
  $('#rebate-click').click ->
    $('#rebates').toggle "fast", ->
    
$ ->
  $('#contribution-click').click ->
    $('#contributions').toggle "fast", ->
    
$ ->
  $('#edate-click').click ->
    $('#edates').toggle "fast", ->
    
$ ->
  $('#threshold-click').click ->
    $('#thresholds').toggle "fast", ->
    
$ ->
  $('#ceiling-click').click ->
    $('#ceilings').toggle "fast", ->
    
$ ->
  $('#cancellation-click').click ->
    $('#cancellations').toggle "fast", ->

$ ->
  document.getElementById("insurance_rate_ceiling_id").className += "invisible"
    
$ ->
  options = document.getElementById("insurance_rate_threshold_id").length
  choice = document.getElementById("insurance_rate_threshold_id").selectedIndex
  choice += 1
  if choice == 1
    ceilingText = "Awaiting threshold selection"
  else if choice == options
    ceilingText = "Any higher monthly salary"
  else
    ceilingText = document.getElementById("insurance_rate_ceiling_id").options[choice].text
    
  document.getElementById("ceiling-definition").innerHTML = ceilingText
  document.getElementById("ceiling-definition").className = ""

