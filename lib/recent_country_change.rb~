module RecentCountryChange  

  def self.total_recent(country)
    self.where("country_id = ? and created_at >=?", country.id, 7.days.ago).count
  end
  
  def self.total_updated(country)
    self.where("country_id = ? and updated_at >=? and created_at <?", country.id, 7.days.ago, 7.days.ago).count
  end
  
  def self.recent_add_checks(country)
    self.where("country_id = ? AND checked = ? AND (updated_at - created_at) < INTERVAL '1 day'", country.id, false).count
  end
  
  def self.recent_update_checks(country)
    self.where("country_id = ? AND checked = ? AND (updated_at - created_at) >= INTERVAL '1 day'", country.id, false).count
  end
  
end
